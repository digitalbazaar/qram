<!DOCTYPE html>
<html lang="en">
<head>
  <title>QR code Animation Method (QRAM) Demo</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <!-- Import Google Icon Font -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Compiled and minified Materialize JS/CSS -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

  <!-- modules -->
  <script src="https://unpkg.com/qram@0.3.4/dist/qram.min.js"></script>
  <!-- script src="../dist/qram.min.js"></script -->
  <script src="https://unpkg.com/base64url-universal@1.1.0/dist/base64url-universal.min.js"></script>
  <script src="https://unpkg.com/qrcode@1.4.1/build/qrcode.min.js"></script>
  <script src="https://unpkg.com/jsqr@1.2.0/dist/jsQR.js"></script>
  <style>
    .blocksmap span {
      display: inline-block;
      float: left;
    }
    .blocksmap span:not(:last-child) {
      margin-right: 1px;
    }
    .blocksmap span.missing {
      background: red
    }
    .blocksmap span.found {
      background: green
    }
  </style>
</head>
<body>

<div style="padding: 5px">
  <h5>QR code Animation Method (QRAM) Demo</h5>
  <div>
    <span>DATA SIZE:
      <select id="size" style="width: 80px; display: inline-block">
        <option value="4096">4k</option>
        <option value="1024" selected>1k</option>
        <option value="512">512b</option>
        <option value="256">256b</option>
      </select>
    </span>
    <span>BLOCK SIZE: <input id="block-size" type="number" value="400"
        style="width: 80px"></input></span>
  </div>
  <div>
    <span>FPS: <input id="fps" type="text" maxlength="2" value="15"
        style="width: 60px"></input></span>
    <span>ERROR RES.:
      <select id="resistance" style="width: 80px; display: inline-block">
        <option value="H">30%</option>
        <option value="Q" selected>25%</option>
        <option value="M">15%</option>
        <option value="L">7%</option>
      </select>
    </span>
  </div>
  <div style="padding: 3px">
    <button id="present">Present</button>
    <button id="receive">Receive</button>
    <button id="camera">Camera</button>
  </div>
  <div style="display: flex; justify-content: space-between">
    <canvas
      id="canvas"
      style="border: 1px solid #333; width: 500px; height: 500px"></canvas>
    <video
      id="video"
      autoplay
      muted
      playsinline
      style="border: 1px solid #333; width: 500px; height: 500px; display: none"></video>
  </div>
  <h6 id="presenting"></h6>
  <div id="progress">
    <h6>Progress</h6>
    <div id="packets"></div>
    <div id="blocks"></div>
    <div id="blocksmap" class="blocksmap" style="width: 500px"></div>
    <div id="finish" style="clear: both"></div>
  </div>
</div>

<!-- div class="container">
  <div class="card-panel">
    <div class="row">
      <div class="col s5">
        <h5>Received...</h5>

        <div id="progress"></div>
      </div>
    </div>
  </div>
</div -->

<script src="./index.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</body>
</html>
